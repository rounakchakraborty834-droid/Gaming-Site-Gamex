import e from"./the-gallery-filter-remove.07f43004.js";import{I as l,_ as r}from"./btn-round.fc57f079.js";import o from"./the-gallery-filter-tag.74cb5b36.js";import s from"./the-gallery-not-found.7e223890.js";import t from"./the-gallery-grid-item.08f32ace.js";import{o as a,l as n,m as i,a as u,e as d,b as c,r as p,h as m,X as v,H as g,E as y,v as h,q as f,u as k,t as j,A as b,c as w,w as _,F,p as H,f as x}from"./entry.3ad1dc26.js";import{u as M}from"./useRaf.f21bd45b.js";import{u as R}from"./gallery-store.fe278b73.js";import{u as C}from"./wallet-store.88bcc804.js";import"./index.77e4f8bb.js";import{a as T,i as I}from"./gozer-env.ed057cb2.js";import"./close-stroke.23b5663a.js";import"./btn-main.84563a1e.js";import"./hacky-text.0a0f4d07.js";import"./useScrollTrigger.a08670f0.js";import"./button-base.c61091ef.js";import"./external.cad297ca.js";import"./dot-caption.9530c8e8.js";import"./dot.64f122a7.js";import"./link-hover.46485923.js";import"./tick.427d4bf7.js";const S={xmlns:"http://www.w3.org/2000/svg",width:"13",height:"11",fill:"none"},K=[i("path",{stroke:"#000","stroke-linecap":"round","stroke-linejoin":"round",d:"M6.812 2.504H.797m11.028 0H8.817M2.802 8.018H.797m11.203 0H5.504m-.001 1.503V6.514M8.817 1v3.008"},null,-1)];const O={render:function(e,l){return a(),n("svg",S,K)}},q={xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",viewBox:"0 0 12.99 15.17"},z=[i("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round",d:"m12 14.67-3.94-.71.71-3.93"},null,-1),i("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round",d:"M7.56 1.68a6 6 0 0 1 4.65 7.86 5.91 5.91 0 0 1-2 2.76l-2.13 1.65M.99.5l3.94.71-.72 3.94"},null,-1),i("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round",d:"M5.44 13.49a5.88 5.88 0 0 1-3-1.53 6 6 0 0 1 .41-9.1l2.08-1.65"},null,-1)];const A={render:function(e,l){return a(),n("svg",q,z)}},B={class:"mobileHeader"},D=["disabled"],E={key:0,class:"mobileHeader__count"},G={class:"header"},L={class:"totalResult"},N={class:"appliedFilters"},P={key:1,class:"list"},V=x(u({__name:"the-gallery-grid",props:["category"],emits:["onOpenFilter","clearResults"],setup(u,{emit:x}){const S=u,{app:K,browser:q,storyblok:z,debug:V}=d();c();const W=R();C();const X=p(null),J=I?30:100;p(0);const Q=p(0),U=p(!1),Y=p(0),Z=m((()=>{var e,l;return"my"===K.galleryCategory?null==(e=W.collection)?void 0:e.results.value:null==(l=W.search)?void 0:l.results})),$=m((()=>{var e;return null==(e=Z.value)?void 0:e.slice(0,Y.value)})),ee=m((()=>{var e;return null==(e=W.search)?void 0:e.appliedFilters.length})),le=m((()=>{var e;return(null==(e=Z.value)?void 0:e.length)||0})),re=m((()=>Q.value-q.windowHeight)),oe=()=>{var e,l;"my"===S.category?null==(e=W.collection)||e.getWalletNFTs():null==(l=W.search)||l.shuffle()},{stop:se}=v(X,(()=>{Q.value=document.body.scrollHeight}));return M((()=>{const e=re.value-K.scrollTop();U.value=e<100})),g((()=>{se()})),y(Z,(()=>Y.value=J)),y($,(e=>{K.refreshScroller()})),y(U,(e=>{e&&(Y.value+=J)})),y(ee,(()=>{window.scrollTo(0,0)})),(d,c)=>{var p,m,v,g,y,M;const R=e,C=r,I=o,S=s,K=t;return a(),n("div",{ref_key:"refRoot",ref:X,class:"galleryGrid type-gallery"},[i("header",B,[i("div",{class:"mobileHeader__filter",disabled:"my"===u.category,onClick:c[0]||(c[0]=e=>x("onOpenFilter"))},[h(" Filter "),f(k(O),{class:"mobileHeader__iconFilter"}),k(ee)?(a(),n("span",E,j(k(ee)),1)):b("",!0)],8,D),k(T)&&(null==(p=k(W).search)?void 0:p.appliedFilters.length)>0&&void 0!==(null==(m=k(W).search)?void 0:m.appliedFilters)?(a(),w(R,{key:0})):b("",!0),f(C,{class:"btnRoundMobile",onClick:oe},{default:_((()=>["my"===u.category?(a(),w(k(A),{key:0})):(a(),w(k(l),{key:1}))])),_:1})]),i("header",G,[i("div",L,j(k(le))+" Keepers",1),i("ul",N,[(a(!0),n(F,null,H(null==(v=k(W).search)?void 0:v.appliedFilters,((e,l)=>(a(),w(I,{key:l,filter:e},null,8,["filter"])))),128)),!k(T)&&(null==(g=k(W).search)?void 0:g.appliedFilters.length)>0&&void 0!==(null==(y=k(W).search)?void 0:y.appliedFilters)?(a(),w(R,{key:0})):b("",!0)]),f(C,{class:"btnRoundDesktop",onClick:oe},{default:_((()=>["my"===u.category?(a(),w(k(A),{key:0})):(a(),w(k(l),{key:1}))])),_:1})]),0===(null==(M=k(Z))?void 0:M.length)?(a(),w(S,{key:0,category:u.category},null,8,["category"])):(a(),n("ul",P,[(a(!0),n(F,null,H(k($),((e,l)=>(a(),w(K,{key:l,data:e,index:l},null,8,["data","index"])))),128))]))],512)}}}),[["__scopeId","data-v-c889fdcd"]]);export{V as default};
